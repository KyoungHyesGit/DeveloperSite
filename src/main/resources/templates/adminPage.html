<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<th:block th:replace="fragments/header :: headerFragment"></th:block>
<script>
    function updateLinkUrl(url,btnId) {
        var loginUserIdValue = getCookie('loginUserId');
        console.log("loginUserIdValue:"+loginUserIdValue);
        if (loginUserIdValue) {
            var likeBtn = document.getElementById(btnId); // ID로 하이퍼링크 요소 가져오기
            likeBtn.href = url + loginUserIdValue; // URL을 업데이트
        }
    }

    // 쿠키에서 loginUserIdValue 값을 가져오는 함수 (이미 있는 코드)
    function getCookie(name) {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = cookies[i].trim();
            if (cookie.indexOf(name + '=') === 0) {
                return cookie.substring(name.length + 1, cookie.length);
            }
        }
        return null; // 해당 쿠키가 없을 경우
    }
</script>
<body>
<!--Header 영역을 참조합니다.-->
<th:block th:replace="fragments/navbar :: navbarFragment"></th:block>
<th:block layout:fragment="content">
    <h1>관리자페이지</h1>

    <ul class="list-group">
        <li class="list-group-item">
            <a href="/jobPostTemp/tempList"> 지원 요청글 보기 </a>
        </li>
        <li class="list-group-item">
            <a href="/admin/show"> 사용자 목록 보기 </a>
        </li>
        <li class="list-group-item">
            <a href="/admin/showv"> 회사 목록 보기 </a>
        </li>
        <li class="list-group-item">
            <a href="/statistics"> 사용자 통계 보기 </a>
        </li>
    </ul>


</th:block>
</body>
<th:block th:replace="fragments/footer :: footerFragment"></th:block>

div class="container" style="justify-content: center;">
<form action="#" th:action="@{/adviceboard/writedo}" th:object="${adviceBoardReqDTO}" method="post">
    <div class="form-group row">
        <label for="inputTitle" class="col-sm-2 col-form-label"><strong>제목</strong></label>
        <div class="col-sm-10">
            <input type="text" required th:field="*{title}" class="form-control" id="inputTitle" style="width: 400px"/>
            <p th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="error"></p>
        </div>
    </div>

    <div class="form-group row">
        <label for="inputCategory" class="col-sm-2 col-form-label"><strong>카테고리</strong></label>
        <div class="col-sm-10">
            <select th:field="*{category}" class="form-control" id="inputCategory" style="width: 400px">
                <option value="IT">IT</option>
                <option value="디자인">디자인</option>
                <option value="이직질문">이직질문</option>

            </select>
        </div>
    </div>

    <div class="form-group row">
        <label for="inputWriter" class="col-sm-2 col-form-label"><strong>작성자</strong></label>
        <div class="col-sm-10">
            <input type="text" required th:field="*{writer}" class="form-control" id="inputWriter" style="width: 400px"/>
            <p th:if="${#fields.hasErrors('writer')}" th:errors="*{writer}" class="error"></p>
        </div>
    </div>

    <div class="form-group row">
        <label for="inputContent" class="col-sm-2 col-form-label"><strong>내용</strong></label>
        <div class="col-sm-10">
                <textarea required th:field="*{content}" class="form-control" id="inputContent"
                          style="width: 400px;height: 100px; resize: none;"></textarea>
            <p th:if="${#fields.hasErrors('content')}" th:errors="*{content}" class="error"></p>
        </div>
    </div>

    <div class="row">
        <div class="col-auto mr-auto"></div>
        <div class="col-auto">
            <input class="btn btn-primary" type="submit" role="button" value="글쓰기"/>
        </div>
    </div>

</form>
<div th:replace="fragments/footer :: footerFragment"></div>

</div>
</html>